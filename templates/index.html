<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Safety Inspector</title>
    <!-- Font Awesome for icons -->
    <script
      src="https://kit.fontawesome.com/c4254e24a8.js"
      crossorigin="anonymous"
    ></script>
    <!-- Google Fonts for a modern look -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* --- NEW General & Theming Styles --- */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Poppins", sans-serif;
      }

      body {
        background: #080808;
        color: #fff;
      }

      /* --- Header Styles (from reference) --- */
      header {
        background: #1a1a1a;
        padding: 10px 8%;
        border-bottom: 1px solid #333;
      }

      nav {
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .logo {
        width: 100px;
        height: auto;
      }

      nav ul {
        list-style: none;
      }

      nav ul li {
        display: inline-block;
        margin-left: 25px;
        font-size: 1em;
        position: relative;
      }

      nav ul li::after {
        content: "";
        width: 0;
        height: 3px;
        background: #00bcd4;
        position: absolute;
        left: 0;
        bottom: -6px;
        transition: 0.5s;
      }

      nav ul li:hover::after {
        width: 100%;
      }

      nav .fa-solid {
        display: none;
        color: #fff;
        font-size: 25px;
      }

      /* --- Main App Container Styles --- */
      .app-container {
        width: 90%;
        max-width: 800px;
        margin: 100px auto;
        text-align: center;
      }

      .app-container h2 {
        font-size: 3em;
        font-weight: 700;
        margin-bottom: 30px;
        color: #00bcd4;
      }

      /* --- Tab Styles (Redesigned for dark theme) --- */
      .tab-container {
        display: flex;
        justify-content: center;
        border-bottom: 2px solid #333;
        margin-bottom: 30px;
      }

      .tab {
        padding: 10px 25px;
        cursor: pointer;
        font-size: 1.2em;
        font-weight: 600;
        color: #888;
        border-bottom: 3px solid transparent;
        transition: color 0.3s, border-color 0.3s;
      }

      .tab:hover {
        color: #ccc;
      }

      .tab.active {
        color: #00bcd4;
        border-bottom: 3px solid #00bcd4;
      }

      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      /* --- Form Styles (Redesigned for dark theme) --- */
      form {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      form p {
        color: #aaa;
        margin-bottom: 10px;
      }

      label {
        display: none; /* Hidden for a cleaner look */
      }

      input[type="text"],
      textarea {
        background: #222;
        color: #fff;
        padding: 15px;
        border: 1px solid #444;
        border-radius: 8px;
        font-size: 1em;
        width: 100%;
        transition: border-color 0.3s, box-shadow 0.3s;
      }

      input[type="text"]:focus,
      textarea:focus {
        outline: none;
        border-color: #00bcd4;
        box-shadow: 0 0 10px rgba(0, 188, 212, 0.5);
      }

      textarea {
        min-height: 180px;
        resize: vertical;
      }

      button {
        padding: 15px 20px;
        background: #00bcd4;
        color: #080808;
        border: none;
        border-radius: 8px;
        font-size: 1.2em;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s, transform 0.2s;
      }

      button:hover {
        background-color: #0097a7;
        transform: translateY(-2px);
      }

      /* --- Results Styles (Redesigned for dark theme) --- */
      .results {
        margin-top: 40px;
        padding: 25px;
        border-radius: 8px;
        text-align: left;
        border-left: 5px solid;
      }

      .safe {
        background: #0c2b1a;
        border-color: #00e676;
      }
      .warning {
        background: #2e260c;
        border-color: #ffc107;
      }
      .danger {
        background: #331111;
        border-color: #f44336;
      }

      .results h3 {
        margin-top: 0;
        font-size: 1.6em;
        margin-bottom: 15px;
      }
      .safe h3 {
        color: #00e676;
      }
      .warning h3 {
        color: #ffc107;
      }
      .danger h3 {
        color: #f44336;
      }

      .results ul {
        list-style: none;
        padding-left: 0;
      }
      .results li {
        background: rgba(255, 255, 255, 0.05);
        padding: 10px;
        border-radius: 5px;
        margin-bottom: 8px;
      }

      /* --- Responsive Styles --- */
      @media only screen and (max-width: 600px) {
        nav ul {
          background: #0056b3;
          position: fixed;
          top: 0;
          right: -200px;
          width: 200px;
          height: 100vh;
          padding-top: 50px;
          z-index: 2;
          transition: right 0.5s;
        }
        nav ul li {
          display: block;
          margin: 25px;
        }
        nav ul .fa-xmark {
          position: absolute;
          top: 25px;
          left: 25px;
          cursor: pointer;
        }
        nav .fa-solid {
          display: block;
          cursor: pointer;
        }
        .app-container h2 {
          font-size: 2.5em;
        }
      }
    </style>
  </head>
  <body>
    <!-- Header Section -->
    <header>
      <nav>
        <img
          src="../static/Images/Punk_new.png"
          alt="Cyber Punk Logo"
          class="logo"
        />
        <ul id="sideMenu">
          <i class="fa-solid fa-xmark" onclick="closeMenu()"></i>
          <li>Krutali Thakkar</li>
          <li>Hitaxi Kacchadiya</li>
          <li>Dhaval Ghinaya</li>
          <li>Alay Patel</li>
        </ul>
        <i class="fa-solid fa-bars" onclick="openMenu()"></i>
      </nav>
    </header>

    <!-- Main Application Body -->
    <main class="app-container">
      <h2>Safety Inspector</h2>

      <div class="tab-container">
        <div
          class="tab {% if analysis_type == 'url' or not analysis_type %}active{% endif %}"
          onclick="openTab('url-inspector')"
        >
          ðŸ”Ž URL Inspector
        </div>
        <div
          class="tab {% if analysis_type == 'email' %}active{% endif %}"
          onclick="openTab('email-inspector')"
        >
          ðŸ“§ Email Inspector
        </div>
      </div>

      <!-- URL Inspector Form -->
      <div
        id="url-inspector"
        class="tab-content {% if analysis_type == 'url' or not analysis_type %}active{% endif %}"
      >
        <form method="POST">
          <p>Worried a link might be a scam? Paste it below to check.</p>
          <label for="url-input">Enter URL to Inspect:</label>
          <input
            type="text"
            id="url-input"
            name="url"
            placeholder="https://example.com"
            required
          />
          <button type="submit">Check URL</button>
        </form>
      </div>

      <!-- Email Inspector Form -->
      <div
        id="email-inspector"
        class="tab-content {% if analysis_type == 'email' %}active{% endif %}"
      >
        <form method="POST">
          <p>Received a suspicious email? Paste the full text below.</p>
          <label for="email-text-input">Paste Email Text:</label>
          <textarea
            id="email-text-input"
            name="email_text"
            placeholder="From: admin@example.com..."
            required
          ></textarea>
          <button type="submit">Check Email</button>
        </form>
      </div>

      <!-- Results Display -->
      {% if result %}
      <div class="results {{ result_class }}">
        <h3>{{ result }}</h3>
        {% if steps %}
        <ul>
          {% for step in steps %}
          <li>{{ step }}</li>
          {% endfor %}
        </ul>
        {% endif %}
      </div>
      {% endif %}
    </main>

    <script>
      // Function for tabs
      function openTab(tabName) {
        document
          .querySelectorAll(".tab-content")
          .forEach((tab) => tab.classList.remove("active"));
        document
          .querySelectorAll(".tab")
          .forEach((tab) => tab.classList.remove("active"));
        document.getElementById(tabName).classList.add("active");
        document
          .querySelector(`.tab[onclick="openTab('${tabName}')"]`)
          .classList.add("active");
      }

      // Functions for mobile side menu
      var sideMenu = document.getElementById("sideMenu");
      function openMenu() {
        sideMenu.style.right = "0";
      }
      function closeMenu() {
        sideMenu.style.right = "-200px";
      }
    </script>
  </body>
</html>
